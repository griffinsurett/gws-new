---
// src/components/LoopComponents/CheckListItem.astro
import { renderIcon } from "@/utils/icons/iconLoader";
import type { IconType } from "@/content/schema";

export interface Props {
  icon?: IconType;
  textClassName?: string;
  class?: string;
}

const {
  icon,
  textClassName = "text-text text-sm leading-relaxed",
  class: className = "",
} = Astro.props;

// Use provided icon or default to checkmark
const resolvedIcon = icon && typeof icon === "string" && icon.trim().length > 0
  ? icon
  : "lu:check";
---

<div class={`flex items-start gap-4 ${className}`}>
  <div class="icon-xsmall card-icon-color flex-shrink-0 mt-0.5">
    {renderIcon(resolvedIcon, { size: "sm", className: "" })}
  </div>
  <span class={textClassName}>
    <slot />
  </span>
</div>
