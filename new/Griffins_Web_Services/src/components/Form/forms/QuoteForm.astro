---
// src/components/Form/forms/QuoteForm.astro
/**
 * Quote Form - Compact version for hero sections
 * Simplified form with essential fields: name, email, phone, message
 */
import Button from "@/components/Button/Button";
import FormWrapper from "@/components/Form/FormWrapper";
import Input from "@/components/Form/inputs/Input";
import Textarea from "@/components/Form/inputs/Textarea";
import Checkbox from "../inputs/Checkbox";

interface Props {
  className?: string;
  buttonText?: string;
}

const {
  className = "",
  buttonText = "Get Your Quote"
} = Astro.props;

const handleSubmit = async (values: any) => {
  console.log("Quote form submitted:", values);
};
---

<div class={className}>
  <FormWrapper
    client:idle
    onSubmit={handleSubmit}
    successMessage="Thank you! We'll get back to you within 24 hours."
    resetOnSuccess={true}
    className="group flex flex-col relative overflow-hidden"
  >

    <div class="relative z-10 space-y-4">
      <div class="grid gap-3 md:grid-cols-2">
        <Input
          client:idle
          name="firstName"
          label="First Name"
          type="text"
          required={true}
          minLength={2}
          placeholder="First Name *"
          inputClassName="md:col-span-1 card-bg "
          showLabel={false}
        />

        <Input
          client:idle
          name="lastName"
          label="Last Name"
          type="text"
          required={true}
          minLength={2}
          placeholder="Last Name *"
          inputClassName="card-bg"
          showLabel={false}
        />

        <Input
          client:idle
          name="email"
          label="Email"
          type="email"
          required={true}
          placeholder="Email Address *"
          inputClassName="card-bg"
          showLabel={false}
        />

        <Input
          client:idle
          name="phone"
          label="Phone"
          type="tel"
          placeholder="Phone Number"
          inputClassName="card-bg"
          showLabel={false}
        />

        <Textarea
          client:idle
          name="message"
          label="Message"
          required={true}
          minLength={10}
          placeholder="Tell us about your project *"
          rows={3}
          containerClassName="md:col-span-2"
          textareaClassName="card-bg"
          showLabel={false}
        />
      </div>

       <Checkbox
      name="privacy"
      required
      containerClassName="relative z-10 flex items-center gap-2 md:col-span-2 my-4"
      labelClassName="flex items-start gap-2 text-sm text-text"
      checkboxClassName="h-4 w-4 rounded border-muted/60 accent-primary"
    >
      I have read and agree to the{" "}
      <a
        href="/privacy-policy"
        target="_blank"
        rel="noopener noreferrer"
        class="link-base link-md"
      >
        Privacy Policy
      </a>
    </Checkbox>

      <div class="text-left pt-2">
        <Button variant="primary" type="submit" className="w-full">
          {buttonText}
        </Button>
      </div>
    </div>
  </FormWrapper>
</div>
